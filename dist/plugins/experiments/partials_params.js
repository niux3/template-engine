const p=e=>(t,a)=>{console.warn("withParams is deprecated, use PartialsPlugin from partials.js"),e(t,a),a.extraParams||(a.extraParams=[]),a.extraArgs||(a.extraArgs=[]),a.extraParams.push("__e","__p"),a.extraArgs.push(t,t._partials),a.preprocessors.unshift(n=>n.replace(/\[\[>\s*([a-zA-Z0-9_-]+)\s+((?:[a-zA-Z0-9_-]+="[^"]*"\s*)+)\]\]/g,(c,s,i)=>{const o=Object.fromEntries([...i.matchAll(/([a-zA-Z0-9_-]+)="([^"]*)"/g)].map(([,_,r])=>[_,r==="true"?!0:r==="false"?!1:isNaN(r)||r===""?r:+r]));return`[[- (function(){const t=__p.get('${s}');if(!t)throw new Error('Partial "${s}" not found');return __e.render(t,Object.assign({},data,${JSON.stringify(o)}))})() ]]`}))};export{p as withParams};
