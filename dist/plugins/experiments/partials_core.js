const i=(a,o)=>{console.warn("PartialsCorePlugin is deprecated, use PartialsPlugin from partials.js");const s=new Map;a.partial=(r,e)=>(s.set(r,e),a),o.preprocessors||(o.preprocessors=[]);const n=(r,e=0)=>{if(e>10)throw new Error("Partial nesting too deep (max 10 levels)");return r.replace(/\[\[>\s*(\w+)\s*\]\]/g,(l,t)=>{if(!s.has(t))throw new Error(`Partial "${t}" not found`);return n(s.get(t),e+1)})};o.preprocessors.push(r=>n(r)),a._partials=s};export{i as PartialsCorePlugin};
